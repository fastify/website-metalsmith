<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>TypeScript</title><meta name=description content="Fast and low overhead web framework, for Node.js"><link rel=apple-touch-icon sizes=57x57 href=/images/apple-icon-57x57.ed24c0a19503e080.png><link rel=apple-touch-icon sizes=60x60 href=/images/apple-icon-60x60.60c285c424d50738.png><link rel=apple-touch-icon sizes=72x72 href=/images/apple-icon-72x72.e49b27cfe1ab1461.png><link rel=apple-touch-icon sizes=76x76 href=/images/apple-icon-76x76.752f43fc91b8c1f7.png><link rel=apple-touch-icon sizes=114x114 href=/images/apple-icon-114x114.61739fa1d5a7059a.png><link rel=apple-touch-icon sizes=120x120 href=/images/apple-icon-120x120.7c25de37c5ce2ec1.png><link rel=apple-touch-icon sizes=144x144 href=/images/apple-icon-144x144.04d88fb27bd92cbe.png><link rel=apple-touch-icon sizes=152x152 href=/images/apple-icon-152x152.9364781175671626.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-icon-180x180.67579100928bfcd2.png><link rel=icon type=image/png sizes=192x192 href=/images/android-icon-192x192.37eb7f1ae3853740.png><link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.1e22f0e774bc3cce.png><link rel=icon type=image/png sizes=96x96 href=/images/favicon-96x96.7e8a68b1b80c1799.png><link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.e534ce05cb727f1a.png><link rel=manifest href=/manifest.json><meta name=msapplication-TileColor content=#ffffff><meta name=msapplication-TileImage content=/images/ms-icon-144x144.png><meta name=theme-color content=#ffffff><meta property=og:url content=https://www.fastify.io/docs/v2.8.x/TypeScript><meta property=og:type content=website><meta property=og:title content=TypeScript><meta property=og:description content="Fast and low overhead web framework, for Node.js"><meta property=og:image content=https://www.fastify.io/images/fastify-fb-share-image.07b6e6860853c758.png><meta name=twitter:card content=summary_large_image><meta name=twitter:site content=@fastifyjs><meta name=twitter:creator content=@fastifyjs><meta name=twitter:title content=TypeScript><meta name=twitter:description content="Fast and low overhead web framework, for Node.js"><meta name=twitter:image content=https://www.fastify.io/images/fastify-twitter-share-image.cd9f217b360af3e2.png><link rel=stylesheet href=/css/style.f4d6592b3a91c5ef.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/default.min.css integrity="sha512-kZqGbhf9JTB4bVJ0G8HCkqmaPcRgo88F0dneK30yku5Y/dep7CZfCnNml2Je/sY4lBoqoksXz4PtVXS4GHSUzQ==" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@alpha><meta name=robots content="noindex, nofollow"></head><body><nav id=main-navbar class=navbar><div class=navbar-brand><a class=navbar-item href=/ ><img src=/images/fastify-logo-menu.d13f8da7a965c800.png alt="Fastify: Fast and low overhead web framework, for Node.js" height=28 decoding=async> </a><a class="navbar-item is-hidden-desktop" href=https://github.com/fastify/fastify target=_blank rel=noopener><span class=icon style="color: #333;"><i class="fa fa-github"></i></span></a><div class="navbar-burger burger" data-target=mobileMenu><span></span> <span></span> <span></span></div></div><div class=navbar-menu id=mobileMenu><div class=navbar-start><a class=navbar-item href=/ >Home</a> <a class=navbar-item href=/docs/latest>Docs</a> <a class=navbar-item href=/ecosystem>Ecosystem</a> <a class=navbar-item href=/benchmarks>Benchmarks</a> <a class=navbar-item href=/contribute>Contribute</a> <a class=navbar-item href=https://medium.com/@fastifyjs/ >Blog</a> <a class=navbar-item href=https://github.com/fastify/help>Help</a></div><div class=navbar-end><span id=algolia-search-input class="control has-icons-left navbar-item"></span> <a class=navbar-item href=https://github.com/fastify/fastify target=_blank rel=noopener><span class="fa fa-github"></span>&nbsp;GitHub </a><a class=navbar-item href=https://twitter.com/fastifyjs target=_blank rel=noopener><span class="fa fa-twitter"></span>&nbsp;Twitter </a><a class=navbar-item rel=me href=https://fosstodon.org/@fastify target=_blank><span class="fa fa-hashtag"></span>&nbsp;Mastodon</a></div></div></nav><main class=page-content aria-label=Content><section class="hero is-primary" style="background-image: url(/images/bg-pattern-dark.3f8cda863b3bbf52.png)"><div class=hero-body><div class=container><h1 class=title>Documentation (v2.8.0)</h1></div></div></section><section class=section><div class=container><div class=columns><div class="column is-3 is-hidden-mobile sticky-container"><aside class="menu sticky" id=toc><ul class=menu-list><li style="text-transform: capitalize"><a title=Benchmarking href=/docs/v2.8.x/Benchmarking>Benchmarking</a></li><li style="text-transform: capitalize"><a title=ContentTypeParser href=/docs/v2.8.x/ContentTypeParser>ContentTypeParser</a></li><li style="text-transform: capitalize"><a title=Decorators href=/docs/v2.8.x/Decorators>Decorators</a></li><li style="text-transform: capitalize"><a title=Ecosystem href=/docs/v2.8.x/Ecosystem>Ecosystem</a></li><li style="text-transform: capitalize"><a title=Errors href=/docs/v2.8.x/Errors>Errors</a></li><li style="text-transform: capitalize"><a title=Fluent-Schema href=/docs/v2.8.x/Fluent-Schema>Fluent-Schema</a></li><li style="text-transform: capitalize"><a title=Getting-Started href=/docs/v2.8.x/Getting-Started>Getting-Started</a></li><li style="text-transform: capitalize"><a title=HTTP2 href=/docs/v2.8.x/HTTP2>HTTP2</a></li><li style="text-transform: capitalize"><a title=Hooks href=/docs/v2.8.x/Hooks>Hooks</a></li><li style="text-transform: capitalize"><a title=LTS href=/docs/v2.8.x/LTS>LTS</a></li><li style="text-transform: capitalize"><a title=Lifecycle href=/docs/v2.8.x/Lifecycle>Lifecycle</a></li><li style="text-transform: capitalize"><a title=Logging href=/docs/v2.8.x/Logging>Logging</a></li><li style="text-transform: capitalize"><a title=Middlewares href=/docs/v2.8.x/Middlewares>Middlewares</a></li><li style="text-transform: capitalize"><a title=Plugins-Guide href=/docs/v2.8.x/Plugins-Guide>Plugins-Guide</a></li><li style="text-transform: capitalize"><a title=Plugins href=/docs/v2.8.x/Plugins>Plugins</a></li><li style="text-transform: capitalize"><a title=Reply href=/docs/v2.8.x/Reply>Reply</a></li><li style="text-transform: capitalize"><a title=Request href=/docs/v2.8.x/Request>Request</a></li><li style="text-transform: capitalize"><a title=Routes href=/docs/v2.8.x/Routes>Routes</a></li><li style="text-transform: capitalize"><a title=Server href=/docs/v2.8.x/Server>Server</a></li><li style="text-transform: capitalize"><a title=Serverless href=/docs/v2.8.x/Serverless>Serverless</a></li><li style="text-transform: capitalize"><a title=Testing href=/docs/v2.8.x/Testing>Testing</a></li><li style="text-transform: capitalize" id=doc-menu-section><a title=TypeScript class=is-active href=/docs/v2.8.x/TypeScript>TypeScript</a></li><li style="text-transform: capitalize"><a title=Validation-and-Serialization href=/docs/v2.8.x/Validation-and-Serialization>Validation-and-Serialization</a></li><li style="text-transform: capitalize"><a title=Write-Plugin href=/docs/v2.8.x/Write-Plugin>Write-Plugin</a></li></ul><div class=content style="margin: .8em; border-top: 1px solid #ccc; padding: .8em 0 0 0">Docs version<div class=field><div class=control><div class=select><select onchange="if (this.value) window.location.href=this.value"><option value=/docs/latest>latest</option><option value=/docs/master>master</option><option value=/docs/v4.11.x>v4.11.x</option><option value=/docs/v4.10.x>v4.10.x</option><option value=/docs/v4.9.x>v4.9.x</option><option value=/docs/v4.8.x>v4.8.x</option><option value=/docs/v4.7.x>v4.7.x</option><option value=/docs/v4.6.x>v4.6.x</option><option value=/docs/v4.5.x>v4.5.x</option><option value=/docs/v4.4.x>v4.4.x</option><option value=/docs/v4.3.x>v4.3.x</option><option value=/docs/v4.2.x>v4.2.x</option><option value=/docs/v4.1.x>v4.1.x</option><option value=/docs/v4.0.x>v4.0.x</option><option value=/docs/v3.29.x>v3.29.x</option><option value=/docs/v3.28.x>v3.28.x</option><option value=/docs/v3.27.x>v3.27.x</option><option value=/docs/v3.26.x>v3.26.x</option><option value=/docs/v3.25.x>v3.25.x</option><option value=/docs/v3.24.x>v3.24.x</option><option value=/docs/v3.23.x>v3.23.x</option><option value=/docs/v3.22.x>v3.22.x</option><option value=/docs/v3.21.x>v3.21.x</option><option value=/docs/v3.20.x>v3.20.x</option><option value=/docs/v3.19.x>v3.19.x</option><option value=/docs/v3.18.x>v3.18.x</option><option value=/docs/v3.17.x>v3.17.x</option><option value=/docs/v3.16.x>v3.16.x</option><option value=/docs/v3.15.x>v3.15.x</option><option value=/docs/v3.14.x>v3.14.x</option><option value=/docs/v3.13.x>v3.13.x</option><option value=/docs/v3.12.x>v3.12.x</option><option value=/docs/v3.11.x>v3.11.x</option><option value=/docs/v3.10.x>v3.10.x</option><option value=/docs/v3.9.x>v3.9.x</option><option value=/docs/v3.8.x>v3.8.x</option><option value=/docs/v3.7.x>v3.7.x</option><option value=/docs/v3.6.x>v3.6.x</option><option value=/docs/v3.5.x>v3.5.x</option><option value=/docs/v3.4.x>v3.4.x</option><option value=/docs/v3.3.x>v3.3.x</option><option value=/docs/v3.2.x>v3.2.x</option><option value=/docs/v3.1.x>v3.1.x</option><option value=/docs/v3.0.x>v3.0.x</option><option value=/docs/v2.15.x>v2.15.x</option><option value=/docs/v2.14.x>v2.14.x</option><option value=/docs/v2.13.x>v2.13.x</option><option value=/docs/v2.12.x>v2.12.x</option><option value=/docs/v2.11.x>v2.11.x</option><option value=/docs/v2.10.x>v2.10.x</option><option value=/docs/v2.9.x>v2.9.x</option><option selected value=/docs/v2.8.x>v2.8.x</option><option value=/docs/v2.7.x>v2.7.x</option><option value=/docs/v2.6.x>v2.6.x</option><option value=/docs/v2.5.x>v2.5.x</option><option value=/docs/v2.4.x>v2.4.x</option><option value=/docs/v2.3.x>v2.3.x</option><option value=/docs/v2.2.x>v2.2.x</option><option value=/docs/v2.1.x>v2.1.x</option><option value=/docs/v2.0.x>v2.0.x</option><option value=/docs/v1.14.x>v1.14.x</option><option value=/docs/v1.13.x>v1.13.x</option></select></div></div></div></div></aside></div><div class="column is-9"><nav class=breadcrumb><ul><li><a href=/ style="padding-left: 0">Fastify</a></li><li><a href=/docs/v2.8.x>Documentation</a></li><li><div class=field><div class=control><div class=select><select onchange="if (this.value) window.location.href=this.value" style="border: none;"><option value=/docs/latest>latest</option><option value=/docs/master>master</option><option value=/docs/v4.11.x>v4.11.x</option><option value=/docs/v4.10.x>v4.10.x</option><option value=/docs/v4.9.x>v4.9.x</option><option value=/docs/v4.8.x>v4.8.x</option><option value=/docs/v4.7.x>v4.7.x</option><option value=/docs/v4.6.x>v4.6.x</option><option value=/docs/v4.5.x>v4.5.x</option><option value=/docs/v4.4.x>v4.4.x</option><option value=/docs/v4.3.x>v4.3.x</option><option value=/docs/v4.2.x>v4.2.x</option><option value=/docs/v4.1.x>v4.1.x</option><option value=/docs/v4.0.x>v4.0.x</option><option value=/docs/v3.29.x>v3.29.x</option><option value=/docs/v3.28.x>v3.28.x</option><option value=/docs/v3.27.x>v3.27.x</option><option value=/docs/v3.26.x>v3.26.x</option><option value=/docs/v3.25.x>v3.25.x</option><option value=/docs/v3.24.x>v3.24.x</option><option value=/docs/v3.23.x>v3.23.x</option><option value=/docs/v3.22.x>v3.22.x</option><option value=/docs/v3.21.x>v3.21.x</option><option value=/docs/v3.20.x>v3.20.x</option><option value=/docs/v3.19.x>v3.19.x</option><option value=/docs/v3.18.x>v3.18.x</option><option value=/docs/v3.17.x>v3.17.x</option><option value=/docs/v3.16.x>v3.16.x</option><option value=/docs/v3.15.x>v3.15.x</option><option value=/docs/v3.14.x>v3.14.x</option><option value=/docs/v3.13.x>v3.13.x</option><option value=/docs/v3.12.x>v3.12.x</option><option value=/docs/v3.11.x>v3.11.x</option><option value=/docs/v3.10.x>v3.10.x</option><option value=/docs/v3.9.x>v3.9.x</option><option value=/docs/v3.8.x>v3.8.x</option><option value=/docs/v3.7.x>v3.7.x</option><option value=/docs/v3.6.x>v3.6.x</option><option value=/docs/v3.5.x>v3.5.x</option><option value=/docs/v3.4.x>v3.4.x</option><option value=/docs/v3.3.x>v3.3.x</option><option value=/docs/v3.2.x>v3.2.x</option><option value=/docs/v3.1.x>v3.1.x</option><option value=/docs/v3.0.x>v3.0.x</option><option value=/docs/v2.15.x>v2.15.x</option><option value=/docs/v2.14.x>v2.14.x</option><option value=/docs/v2.13.x>v2.13.x</option><option value=/docs/v2.12.x>v2.12.x</option><option value=/docs/v2.11.x>v2.11.x</option><option value=/docs/v2.10.x>v2.10.x</option><option value=/docs/v2.9.x>v2.9.x</option><option selected value=/docs/v2.8.x>v2.8.x</option><option value=/docs/v2.7.x>v2.7.x</option><option value=/docs/v2.6.x>v2.6.x</option><option value=/docs/v2.5.x>v2.5.x</option><option value=/docs/v2.4.x>v2.4.x</option><option value=/docs/v2.3.x>v2.3.x</option><option value=/docs/v2.2.x>v2.2.x</option><option value=/docs/v2.1.x>v2.1.x</option><option value=/docs/v2.0.x>v2.0.x</option><option value=/docs/v1.14.x>v1.14.x</option><option value=/docs/v1.13.x>v1.13.x</option></select></div></div></div></li><div class=field><div class=control><div class=select><select onchange="if (this.value) window.location.href=this.value" style="border: none;"><option value=/docs/v2.8.x>Documentation</option><option value=/docs/v2.8.x/Benchmarking>Benchmarking</option><option value=/docs/v2.8.x/ContentTypeParser>ContentTypeParser</option><option value=/docs/v2.8.x/Decorators>Decorators</option><option value=/docs/v2.8.x/Ecosystem>Ecosystem</option><option value=/docs/v2.8.x/Errors>Errors</option><option value=/docs/v2.8.x/Fluent-Schema>Fluent-Schema</option><option value=/docs/v2.8.x/Getting-Started>Getting-Started</option><option value=/docs/v2.8.x/HTTP2>HTTP2</option><option value=/docs/v2.8.x/Hooks>Hooks</option><option value=/docs/v2.8.x/LTS>LTS</option><option value=/docs/v2.8.x/Lifecycle>Lifecycle</option><option value=/docs/v2.8.x/Logging>Logging</option><option value=/docs/v2.8.x/Middlewares>Middlewares</option><option value=/docs/v2.8.x/Plugins-Guide>Plugins-Guide</option><option value=/docs/v2.8.x/Plugins>Plugins</option><option value=/docs/v2.8.x/Reply>Reply</option><option value=/docs/v2.8.x/Request>Request</option><option value=/docs/v2.8.x/Routes>Routes</option><option value=/docs/v2.8.x/Server>Server</option><option value=/docs/v2.8.x/Serverless>Serverless</option><option value=/docs/v2.8.x/Testing>Testing</option><option selected value=/docs/v2.8.x/TypeScript>TypeScript</option><option value=/docs/v2.8.x/Validation-and-Serialization>Validation-and-Serialization</option><option value=/docs/v2.8.x/Write-Plugin>Write-Plugin</option></select></div></div></div></ul></nav><div id=doc-content class=content><p><a id=typescript></a></p><h2 id=typescript>TypeScript</h2><p>Fastify is shipped with a typings file, but you may need to install <code>@types/node</code>, depending on the Node.js version you are using.</p><h2 id=types-support>Types support</h2><p>We do care about the TypeScript community, and one of our core team members is currently reworking all types. We do our best to have the typings updated with the latest version of the API, but <em>it can happen</em> that the typings are not in sync.<br>Luckily this is Open Source and you can contribute to fix them, we will be very happy to accept the fix and release it as soon as possible as a patch release. Checkout the <a href=#contributing>contributing</a> rules!</p><p>Plugins may or may not include typings. See <a href=#plugin-types>Plugin Types</a> for more information.</p><h2 id=example>Example</h2><p>This example TypeScript app closely aligns with the JavaScript examples:</p><pre><code class=language-ts>import * as fastify from &#39;fastify&#39;
import { Server, IncomingMessage, ServerResponse } from &#39;http&#39;

// Create a http server. We pass the relevant typings for our http version used.
// By passing types we get correctly typed access to the underlying http objects in routes.
// If using http2 we&#39;d pass &lt;http2.Http2Server, http2.Http2ServerRequest, http2.Http2ServerResponse&gt;
const server: fastify.FastifyInstance&lt;Server, IncomingMessage, ServerResponse&gt; = fastify({})

const opts: fastify.RouteShorthandOptions = {
  schema: {
    response: {
      200: {
        type: &#39;object&#39;,
        properties: {
          pong: {
            type: &#39;string&#39;
          }
        }
      }
    }
  }
}

server.get(&#39;/ping&#39;, opts, (request, reply) =&gt; {
  console.log(reply.res) // this is the http.ServerResponse with correct typings!
  reply.code(200).send({ pong: &#39;it worked!&#39; })
})
</code></pre><p><a id=generic-parameters></a></p><h2 id=generic-parameters>Generic Parameters</h2><p>Since you can validate the querystring, params, body, and headers, you can also override the default types of those values on the request interface:</p><pre><code class=language-ts>import * as fastify from &#39;fastify&#39;

const server = fastify({})

interface Query {
  foo?: number
}

interface Params {
  bar?: string
}

interface Body {
  baz?: string
}

interface Headers {
  a?: string
}

const opts: fastify.RouteShorthandOptions = {
  schema: {
    querystring: {
      type: &#39;object&#39;,
      properties: {
        foo: {
          type: &#39;number&#39;
        }
      }
    },
    params: {
      type: &#39;object&#39;,
      properties: {
        bar: {
          type: &#39;string&#39;
        }
      }
    },
    body: {
      type: &#39;object&#39;,
      properties: {
        baz: {
          type: &#39;string&#39;
        }
      }
    },
    headers: {
      type: &#39;object&#39;,
      properties: {
        a: {
          type: &#39;string&#39;
        }
      }
    }
  }
}

server.get&lt;Query, Params, Headers, Body&gt;(&#39;/ping/:bar&#39;, opts, (request, reply) =&gt; {
  console.log(request.query) // this is of type Query!
  console.log(request.params) // this is of type Params!
  console.log(request.body) // this is of type Body!
  console.log(request.headers) // this is of type Headers!
  reply.code(200).send({ pong: &#39;it worked!&#39; })
})
</code></pre><p>All generic types are optional, so you can also pass types for the parts you validate with schemas:</p><pre><code class=language-ts>import * as fastify from &#39;fastify&#39;

const server = fastify({})

interface Params {
  bar?: string
}

const opts: fastify.RouteShorthandOptions = {
  schema: {
    params: {
      type: &#39;object&#39;,
      properties: {
        bar: {
          type: &#39;string&#39;
        }
      }
    },
  }
}

server.get&lt;fastify.DefaultQuery, Params, unknown&gt;(&#39;/ping/:bar&#39;, opts, (request, reply) =&gt; {
  console.log(request.query) // this is of type fastify.DefaultQuery!
  console.log(request.params) // this is of type Params!
  console.log(request.body) // this is of type unknown!
  console.log(request.headers) // this is of type fastify.DefaultHeader because typescript will use the default type value!
  reply.code(200).send({ pong: &#39;it worked!&#39; })
})

// Given that you haven&#39;t validated the querystring, body, or headers, it would be best
// to type those params as &#39;unknown&#39;. However, it&#39;s up to you. The example below is the
// best way to prevent you from shooting yourself in the foot. In other words, don&#39;t
// use values you haven&#39;t validated.
server.get&lt;unknown, Params, unknown, unknown&gt;(&#39;/ping/:bar&#39;, opts, (request, reply) =&gt; {
  console.log(request.query) // this is of type unknown!
  console.log(request.params) // this is of type Params!
  console.log(request.body) // this is of type unknown!
  console.log(request.headers) // this is of type unknown!
  reply.code(200).send({ pong: &#39;it worked!&#39; })
})
</code></pre><p><a id=http-prototypes></a></p><h2 id=http-prototypes>HTTP Prototypes</h2><p>By default, fastify will determine which version of http is being used based on the options you pass to it. If for any reason you need to override this you can do so as shown below:</p><pre><code class=language-ts>interface CustomIncomingMessage extends http.IncomingMessage {
  getClientDeviceType: () =&gt; string
}

// Passing overrides for the http prototypes to fastify
const server: fastify.FastifyInstance&lt;http.Server, CustomIncomingMessage, http.ServerResponse&gt; = fastify()

server.get(&#39;/ping&#39;, (request, reply) =&gt; {
  // Access our custom method on the http prototype
  const clientDeviceType = request.raw.getClientDeviceType()

  reply.send({ clientDeviceType: `you called this endpoint from a ${clientDeviceType}` })
})
</code></pre><p>In this example we pass a modified <code>http.IncomingMessage</code> interface since it has been extended elsewhere in our application.</p><p><a id=contributing></a></p><h2 id=contributing>Contributing</h2><p>TypeScript related changes can be considered to fall into one of two categories:</p><ul><li>Core - The typings bundled with fastify</li><li>Plugins - Fastify ecosystem plugins</li></ul><p>Make sure to read our <a href=https://github.com/fastify/fastify/blob/master/CONTRIBUTING.md><code>CONTRIBUTING.md</code></a> file before getting started to make sure things go smoothly!</p><p><a id=core-types></a></p><h3 id=core-types>Core Types</h3><p>When updating core types you should make a PR to this repository. Ensure you:</p><ol><li>Update <code>examples/typescript-server.ts</code> to reflect the changes (if necessary)</li><li>Update <code>test/types/index.ts</code> to validate changes work as expected</li></ol><p><a id=plugin-types></a></p><h3 id=plugin-types>Plugin Types</h3><p>Plugins maintained by and organized under the fastify organization on GitHub should ship with typings just like fastify itself does. Some plugins already include typings but many do not. We are happy to accept contributions to those plugins without any typings, see <a href=https://github.com/fastify/fastify-cors>fastify-cors</a> for an example of a plugin that comes with it&#39;s own typings.</p><p>Typings for third-party-plugins may either be included with the plugin or hosted on DefinitelyTyped. Remember, if you author a plugin to either include typings or publish them on DefinitelyTyped! Information of how to install typings from DefinitelyTyped can be found <a href=https://github.com/DefinitelyTyped/DefinitelyTyped#npm>here</a>.</p><p>Some types might not be available yet, so don&#39;t be shy about contributing.</p><p><a id=authoring-plugin-types></a></p><h3 id=authoring-plugin-types>Authoring Plugin Types</h3><p>Typings for many plugins that extend the <code>FastifyRequest</code>, <code>FastifyReply</code> or <code>FastifyInstance</code> objects can be achieved as shown below.</p><p>This code shows the typings for the <code>fastify-static</code> plugin.</p><pre><code class=language-ts>// require fastify typings
import fastify = require(&quot;fastify&quot;);
// require necessary http typings
import { Server, IncomingMessage, ServerResponse } from &quot;http&quot;;

// extend fastify typings
declare module &quot;fastify&quot; {
    interface FastifyReply&lt;HttpResponse&gt; {
        sendFile(filename: string): FastifyReply&lt;HttpResponse&gt;;
    }
}

// declare plugin type using fastify.Plugin
declare const fastifyStatic: fastify.Plugin&lt;Server, IncomingMessage, ServerResponse, {
    root: string;
    prefix?: string;
    serve?: boolean;
    decorateReply?: boolean;
    schemaHide?: boolean;
    setHeaders?: (...args: any[]) =&gt; void;
    acceptRanges?: boolean;
    cacheControl?: boolean;
    dotfiles?: boolean;
    etag?: boolean;
    extensions?: string[];
    immutable?: boolean;
    index?: string[];
    lastModified?: boolean;
    maxAge?: string | number;
}&gt;;

// export plugin type
export = fastifyStatic;
</code></pre><p>Now you are good to go and could use the plugin like so:</p><pre><code class=language-ts>import * as Fastify from &#39;fastify&#39;
import * as fastifyStatic from &#39;fastify-static&#39;

const app = Fastify()

// the options here are type-checked
app.register(fastifyStatic, {
  acceptRanges: true,
  cacheControl: true,
  decorateReply: true,
  dotfiles: true,
  etag: true,
  extensions: [&#39;.js&#39;],
  immutable: true,
  index: [&#39;1&#39;],
  lastModified: true,
  maxAge: &#39;&#39;,
  prefix: &#39;&#39;,
  root: &#39;&#39;,
  schemaHide: true,
  serve: true,
  setHeaders: (res, pathName) =&gt; {
    res.setHeader(&#39;some-header&#39;, pathName)
  }
})

app.get(&#39;/file&#39;, (request, reply) =&gt; {
  // using newly defined function on FastifyReply
  reply.sendFile(&#39;some-file-name&#39;)
})
</code></pre><p>Adding typings to all our plugins is a community effort so feel free to contribute!</p></div><hr><nav class=level></nav></div></div></div></section><script>// dynamically creates a submenu for the current section based on the content headers
  var titles = document.querySelectorAll('#doc-content h3, #doc-content h4')
  var currentMenu = document.getElementById('doc-menu-section')
  if (titles.length && currentMenu) {
    var submenu = document.createElement('ul')
    titles.forEach(el => {
      var currentSubmenuItem = document.createElement('li')
      var currentSubmenuLink = document.createElement('a')
      currentSubmenuLink.href = '#' + el.id
      currentSubmenuLink.title = el.textContent
      currentSubmenuLink.append(document.createTextNode(el.textContent))
      currentSubmenuItem.append(currentSubmenuLink)
      submenu.append(currentSubmenuItem)
    })
    currentMenu.append(submenu)
  }

  // dynamically creates header anchor links
  var headers = document.querySelectorAll('#doc-content h3, #doc-content h4')
  headers.forEach(el => {
    var currentAnchorLink = document.createElement('a')
    currentAnchorLink.className = 'anchor'
    currentAnchorLink.href = "#" + el.id
    currentAnchorLink.append(document.createTextNode('¶'))
    el.insertBefore(currentAnchorLink, el.firstChild);
  })</script><script>const contentLoaded = document.addEventListener('DOMContentLoaded', setTOCHeight)
  const resize = window.addEventListener('resize', setTOCHeight)

  function setTOCHeight() {
    const docHeight = window.innerHeight
    const tocSidebar = document.querySelector('#toc') || 0

    const tocHeight = docHeight - tocSidebar.getBoundingClientRect().top

    document.documentElement.style
      .setProperty('--TOC-height', `${tocHeight}px`)
  }

  window.addEventListener('beforeunload', () => {
    document.removeEventListener(contentLoaded)
    window.removeEventListener(resize)
  })</script></main><footer class="grey is-primary footer"><div class=container><div class="content has-text-centered"><p>Fastify, Copyright &copy; 2016-2023 <a href=https://openjsf.org/ target=_blank rel=noopener>OpenJS Foundation</a> and <a href=https://github.com/fastify/fastify#team target=_blank rel=noopener>The Fastify team</a>, Licensed under <a href=https://github.com/fastify/fastify/blob/master/LICENSE target=_blank rel=noopener>MIT</a></p><a href=https://www.netlify.com><img src=https://www.netlify.com/img/global/badges/netlify-color-accent.svg alt="Deploys by Netlify" loading=lazy decoding=async></a><p><small>Icons by simpleicons.org</small></p></div></div></footer><script src=/js/main.1e1d476db6c0b326.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js integrity="sha512-s+tOYYcC3Jybgr9mVsdAxsRYlGNq4mlAurOrfNuGMQ/SCofNPu92tjE7YRZCsdEtWL1yGkqk15fU/ark206YTg==" crossorigin=anonymous></script><script>hljs.highlightAll();</script><script src=https://cdn.jsdelivr.net/npm/@docsearch/js@alpha></script><script type=text/javascript>docsearch({
        appId: 'DMPMC33PLU',
        apiKey: '12d46b3bfeee6511031cfe00778f3e45',
        indexName: 'fastify',
        container: '#algolia-search-input',
        algoliaOptions: { 'facetFilters': ["version:latest", "tags:docs"] }
      });</script></body></html>
<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Request</title><meta name=description content="Fast and low overhead web framework, for Node.js"><link rel=apple-touch-icon sizes=57x57 href=/images/apple-icon-57x57.ed24c0a19503e080.png><link rel=apple-touch-icon sizes=60x60 href=/images/apple-icon-60x60.60c285c424d50738.png><link rel=apple-touch-icon sizes=72x72 href=/images/apple-icon-72x72.e49b27cfe1ab1461.png><link rel=apple-touch-icon sizes=76x76 href=/images/apple-icon-76x76.752f43fc91b8c1f7.png><link rel=apple-touch-icon sizes=114x114 href=/images/apple-icon-114x114.61739fa1d5a7059a.png><link rel=apple-touch-icon sizes=120x120 href=/images/apple-icon-120x120.7c25de37c5ce2ec1.png><link rel=apple-touch-icon sizes=144x144 href=/images/apple-icon-144x144.04d88fb27bd92cbe.png><link rel=apple-touch-icon sizes=152x152 href=/images/apple-icon-152x152.9364781175671626.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-icon-180x180.67579100928bfcd2.png><link rel=icon type=image/png sizes=192x192 href=/images/android-icon-192x192.37eb7f1ae3853740.png><link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.1e22f0e774bc3cce.png><link rel=icon type=image/png sizes=96x96 href=/images/favicon-96x96.7e8a68b1b80c1799.png><link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.e534ce05cb727f1a.png><link rel=manifest href=/manifest.json><meta name=msapplication-TileColor content=#ffffff><meta name=msapplication-TileImage content=/images/ms-icon-144x144.png><meta name=theme-color content=#ffffff><meta property=og:url content=https://www.fastify.io/docs/v4.15.x/Reference/Request><meta property=og:type content=website><meta property=og:title content=Request><meta property=og:description content="Fast and low overhead web framework, for Node.js"><meta property=og:image content=https://www.fastify.io/images/fastify-fb-share-image.07b6e6860853c758.png><meta name=twitter:card content=summary_large_image><meta name=twitter:site content=@fastifyjs><meta name=twitter:creator content=@fastifyjs><meta name=twitter:title content=Request><meta name=twitter:description content="Fast and low overhead web framework, for Node.js"><meta name=twitter:image content=https://www.fastify.io/images/fastify-twitter-share-image.cd9f217b360af3e2.png><link rel=stylesheet href=/css/style.f4d6592b3a91c5ef.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/default.min.css integrity="sha512-kZqGbhf9JTB4bVJ0G8HCkqmaPcRgo88F0dneK30yku5Y/dep7CZfCnNml2Je/sY4lBoqoksXz4PtVXS4GHSUzQ==" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@alpha><meta name=robots content="noindex, nofollow"></head><body><nav id=main-navbar class=navbar><div class=navbar-brand><a class=navbar-item href=/ ><img src=/images/fastify-logo-menu.d13f8da7a965c800.png alt="Fastify: Fast and low overhead web framework, for Node.js" height=28 decoding=async> </a><a class="navbar-item is-hidden-desktop" href=https://github.com/fastify/fastify target=_blank rel=noopener><span class=icon style="color: #333;"><i class="fa fa-github"></i></span></a><div class="navbar-burger burger" data-target=mobileMenu><span></span> <span></span> <span></span></div></div><div class=navbar-menu id=mobileMenu><div class=navbar-start><a class=navbar-item href=/ >Home</a> <a class=navbar-item href=/docs/latest>Docs</a> <a class=navbar-item href=/ecosystem>Ecosystem</a> <a class=navbar-item href=/benchmarks>Benchmarks</a> <a class=navbar-item href=/contribute>Contribute</a> <a class=navbar-item href=https://medium.com/@fastifyjs/ >Blog</a> <a class=navbar-item href=https://github.com/fastify/help>Help</a></div><div class=navbar-end><span id=algolia-search-input class="control has-icons-left navbar-item"></span> <a class=navbar-item href=https://github.com/fastify/fastify target=_blank rel=noopener><span class="fa fa-github"></span>&nbsp;GitHub </a><a class=navbar-item href=https://twitter.com/fastifyjs target=_blank rel=noopener><span class="fa fa-twitter"></span>&nbsp;Twitter </a><a class=navbar-item rel=me href=https://fosstodon.org/@fastify target=_blank><span class="fa fa-hashtag"></span>&nbsp;Mastodon</a></div></div></nav><main class=page-content aria-label=Content><section class="hero is-primary" style="background-image: url(/images/bg-pattern-dark.3f8cda863b3bbf52.png)"><div class=hero-body><div class=container><h1 class=title>Documentation (v4.15.0)</h1></div></div></section><section class=section><div class=container><div class=columns><div class="column is-3 is-hidden-mobile sticky-container"><aside class="menu sticky" id=toc><ul class=menu-list></ul><p class=menu-label><a href=/docs/v4.15.x/Guides>Guides</a></p><ul class=menu-list><li style="text-transform: capitalize"><a title=Benchmarking href=/docs/v4.15.x/Guides/Benchmarking>Benchmarking</a></li><li style="text-transform: capitalize"><a title=Contributing href=/docs/v4.15.x/Guides/Contributing>Contributing</a></li><li style="text-transform: capitalize"><a title=Database href=/docs/v4.15.x/Guides/Database>Database</a></li><li style="text-transform: capitalize"><a title=Delay-Accepting-Requests href=/docs/v4.15.x/Guides/Delay-Accepting-Requests>Delay-Accepting-Requests</a></li><li style="text-transform: capitalize"><a title=Detecting-When-Clients-Abort href=/docs/v4.15.x/Guides/Detecting-When-Clients-Abort>Detecting-When-Clients-Abort</a></li><li style="text-transform: capitalize"><a title=Ecosystem href=/docs/v4.15.x/Guides/Ecosystem>Ecosystem</a></li><li style="text-transform: capitalize"><a title=Fluent-Schema href=/docs/v4.15.x/Guides/Fluent-Schema>Fluent-Schema</a></li><li style="text-transform: capitalize"><a title=Getting-Started href=/docs/v4.15.x/Guides/Getting-Started>Getting-Started</a></li><li style="text-transform: capitalize"><a title=Migration-Guide-V3 href=/docs/v4.15.x/Guides/Migration-Guide-V3>Migration-Guide-V3</a></li><li style="text-transform: capitalize"><a title=Migration-Guide-V4 href=/docs/v4.15.x/Guides/Migration-Guide-V4>Migration-Guide-V4</a></li><li style="text-transform: capitalize"><a title=Plugins-Guide href=/docs/v4.15.x/Guides/Plugins-Guide>Plugins-Guide</a></li><li style="text-transform: capitalize"><a title=Prototype-Poisoning href=/docs/v4.15.x/Guides/Prototype-Poisoning>Prototype-Poisoning</a></li><li style="text-transform: capitalize"><a title=Recommendations href=/docs/v4.15.x/Guides/Recommendations>Recommendations</a></li><li style="text-transform: capitalize"><a title=Serverless href=/docs/v4.15.x/Guides/Serverless>Serverless</a></li><li style="text-transform: capitalize"><a title=Style-Guide href=/docs/v4.15.x/Guides/Style-Guide>Style-Guide</a></li><li style="text-transform: capitalize"><a title=Testing href=/docs/v4.15.x/Guides/Testing>Testing</a></li><li style="text-transform: capitalize"><a title=Write-Plugin href=/docs/v4.15.x/Guides/Write-Plugin>Write-Plugin</a></li><li style="text-transform: capitalize"><a title=Write-Type-Provider href=/docs/v4.15.x/Guides/Write-Type-Provider>Write-Type-Provider</a></li></ul><p class=menu-label><a href=/docs/v4.15.x/Reference>Reference</a></p><ul class=menu-list><li style="text-transform: capitalize"><a title=ContentTypeParser href=/docs/v4.15.x/Reference/ContentTypeParser>ContentTypeParser</a></li><li style="text-transform: capitalize"><a title=Decorators href=/docs/v4.15.x/Reference/Decorators>Decorators</a></li><li style="text-transform: capitalize"><a title=Encapsulation href=/docs/v4.15.x/Reference/Encapsulation>Encapsulation</a></li><li style="text-transform: capitalize"><a title=Errors href=/docs/v4.15.x/Reference/Errors>Errors</a></li><li style="text-transform: capitalize"><a title=HTTP2 href=/docs/v4.15.x/Reference/HTTP2>HTTP2</a></li><li style="text-transform: capitalize"><a title=Hooks href=/docs/v4.15.x/Reference/Hooks>Hooks</a></li><li style="text-transform: capitalize"><a title=LTS href=/docs/v4.15.x/Reference/LTS>LTS</a></li><li style="text-transform: capitalize"><a title=Lifecycle href=/docs/v4.15.x/Reference/Lifecycle>Lifecycle</a></li><li style="text-transform: capitalize"><a title=Logging href=/docs/v4.15.x/Reference/Logging>Logging</a></li><li style="text-transform: capitalize"><a title=Middleware href=/docs/v4.15.x/Reference/Middleware>Middleware</a></li><li style="text-transform: capitalize"><a title=Plugins href=/docs/v4.15.x/Reference/Plugins>Plugins</a></li><li style="text-transform: capitalize"><a title=Reply href=/docs/v4.15.x/Reference/Reply>Reply</a></li><li style="text-transform: capitalize" id=doc-menu-section><a title=Request class=is-active href=/docs/v4.15.x/Reference/Request>Request</a></li><li style="text-transform: capitalize"><a title=Routes href=/docs/v4.15.x/Reference/Routes>Routes</a></li><li style="text-transform: capitalize"><a title=Server href=/docs/v4.15.x/Reference/Server>Server</a></li><li style="text-transform: capitalize"><a title=Type-Providers href=/docs/v4.15.x/Reference/Type-Providers>Type-Providers</a></li><li style="text-transform: capitalize"><a title=TypeScript href=/docs/v4.15.x/Reference/TypeScript>TypeScript</a></li><li style="text-transform: capitalize"><a title=Validation-and-Serialization href=/docs/v4.15.x/Reference/Validation-and-Serialization>Validation-and-Serialization</a></li></ul><div class=content style="margin: .8em; border-top: 1px solid #ccc; padding: .8em 0 0 0">Docs version<div class=field><div class=control><div class=select><select onchange="if (this.value) window.location.href=this.value"><option value=/docs/latest>latest</option><option value=/docs/master>master</option><option selected value=/docs/v4.15.x>v4.15.x</option><option value=/docs/v4.14.x>v4.14.x</option><option value=/docs/v4.13.x>v4.13.x</option><option value=/docs/v4.12.x>v4.12.x</option><option value=/docs/v4.11.x>v4.11.x</option><option value=/docs/v4.10.x>v4.10.x</option><option value=/docs/v4.9.x>v4.9.x</option><option value=/docs/v4.8.x>v4.8.x</option><option value=/docs/v4.7.x>v4.7.x</option><option value=/docs/v4.6.x>v4.6.x</option><option value=/docs/v4.5.x>v4.5.x</option><option value=/docs/v4.4.x>v4.4.x</option><option value=/docs/v4.3.x>v4.3.x</option><option value=/docs/v4.2.x>v4.2.x</option><option value=/docs/v4.1.x>v4.1.x</option><option value=/docs/v4.0.x>v4.0.x</option><option value=/docs/v3.29.x>v3.29.x</option><option value=/docs/v3.28.x>v3.28.x</option><option value=/docs/v3.27.x>v3.27.x</option><option value=/docs/v3.26.x>v3.26.x</option><option value=/docs/v3.25.x>v3.25.x</option><option value=/docs/v3.24.x>v3.24.x</option><option value=/docs/v3.23.x>v3.23.x</option><option value=/docs/v3.22.x>v3.22.x</option><option value=/docs/v3.21.x>v3.21.x</option><option value=/docs/v3.20.x>v3.20.x</option><option value=/docs/v3.19.x>v3.19.x</option><option value=/docs/v3.18.x>v3.18.x</option><option value=/docs/v3.17.x>v3.17.x</option><option value=/docs/v3.16.x>v3.16.x</option><option value=/docs/v3.15.x>v3.15.x</option><option value=/docs/v3.14.x>v3.14.x</option><option value=/docs/v3.13.x>v3.13.x</option><option value=/docs/v3.12.x>v3.12.x</option><option value=/docs/v3.11.x>v3.11.x</option><option value=/docs/v3.10.x>v3.10.x</option><option value=/docs/v3.9.x>v3.9.x</option><option value=/docs/v3.8.x>v3.8.x</option><option value=/docs/v3.7.x>v3.7.x</option><option value=/docs/v3.6.x>v3.6.x</option><option value=/docs/v3.5.x>v3.5.x</option><option value=/docs/v3.4.x>v3.4.x</option><option value=/docs/v3.3.x>v3.3.x</option><option value=/docs/v3.2.x>v3.2.x</option><option value=/docs/v3.1.x>v3.1.x</option><option value=/docs/v3.0.x>v3.0.x</option><option value=/docs/v2.15.x>v2.15.x</option><option value=/docs/v2.14.x>v2.14.x</option><option value=/docs/v2.13.x>v2.13.x</option><option value=/docs/v2.12.x>v2.12.x</option><option value=/docs/v2.11.x>v2.11.x</option><option value=/docs/v2.10.x>v2.10.x</option><option value=/docs/v2.9.x>v2.9.x</option><option value=/docs/v2.8.x>v2.8.x</option><option value=/docs/v2.7.x>v2.7.x</option><option value=/docs/v2.6.x>v2.6.x</option><option value=/docs/v2.5.x>v2.5.x</option><option value=/docs/v2.4.x>v2.4.x</option><option value=/docs/v2.3.x>v2.3.x</option><option value=/docs/v2.2.x>v2.2.x</option><option value=/docs/v2.1.x>v2.1.x</option><option value=/docs/v2.0.x>v2.0.x</option><option value=/docs/v1.14.x>v1.14.x</option><option value=/docs/v1.13.x>v1.13.x</option></select></div></div></div></div></aside></div><div class="column is-9"><nav class=breadcrumb><ul><li><a href=/ style="padding-left: 0">Fastify</a></li><li><a href=/docs/v4.15.x>Documentation</a></li><li><div class=field><div class=control><div class=select><select onchange="if (this.value) window.location.href=this.value" style="border: none;"><option value=/docs/latest>latest</option><option value=/docs/master>master</option><option selected value=/docs/v4.15.x>v4.15.x</option><option value=/docs/v4.14.x>v4.14.x</option><option value=/docs/v4.13.x>v4.13.x</option><option value=/docs/v4.12.x>v4.12.x</option><option value=/docs/v4.11.x>v4.11.x</option><option value=/docs/v4.10.x>v4.10.x</option><option value=/docs/v4.9.x>v4.9.x</option><option value=/docs/v4.8.x>v4.8.x</option><option value=/docs/v4.7.x>v4.7.x</option><option value=/docs/v4.6.x>v4.6.x</option><option value=/docs/v4.5.x>v4.5.x</option><option value=/docs/v4.4.x>v4.4.x</option><option value=/docs/v4.3.x>v4.3.x</option><option value=/docs/v4.2.x>v4.2.x</option><option value=/docs/v4.1.x>v4.1.x</option><option value=/docs/v4.0.x>v4.0.x</option><option value=/docs/v3.29.x>v3.29.x</option><option value=/docs/v3.28.x>v3.28.x</option><option value=/docs/v3.27.x>v3.27.x</option><option value=/docs/v3.26.x>v3.26.x</option><option value=/docs/v3.25.x>v3.25.x</option><option value=/docs/v3.24.x>v3.24.x</option><option value=/docs/v3.23.x>v3.23.x</option><option value=/docs/v3.22.x>v3.22.x</option><option value=/docs/v3.21.x>v3.21.x</option><option value=/docs/v3.20.x>v3.20.x</option><option value=/docs/v3.19.x>v3.19.x</option><option value=/docs/v3.18.x>v3.18.x</option><option value=/docs/v3.17.x>v3.17.x</option><option value=/docs/v3.16.x>v3.16.x</option><option value=/docs/v3.15.x>v3.15.x</option><option value=/docs/v3.14.x>v3.14.x</option><option value=/docs/v3.13.x>v3.13.x</option><option value=/docs/v3.12.x>v3.12.x</option><option value=/docs/v3.11.x>v3.11.x</option><option value=/docs/v3.10.x>v3.10.x</option><option value=/docs/v3.9.x>v3.9.x</option><option value=/docs/v3.8.x>v3.8.x</option><option value=/docs/v3.7.x>v3.7.x</option><option value=/docs/v3.6.x>v3.6.x</option><option value=/docs/v3.5.x>v3.5.x</option><option value=/docs/v3.4.x>v3.4.x</option><option value=/docs/v3.3.x>v3.3.x</option><option value=/docs/v3.2.x>v3.2.x</option><option value=/docs/v3.1.x>v3.1.x</option><option value=/docs/v3.0.x>v3.0.x</option><option value=/docs/v2.15.x>v2.15.x</option><option value=/docs/v2.14.x>v2.14.x</option><option value=/docs/v2.13.x>v2.13.x</option><option value=/docs/v2.12.x>v2.12.x</option><option value=/docs/v2.11.x>v2.11.x</option><option value=/docs/v2.10.x>v2.10.x</option><option value=/docs/v2.9.x>v2.9.x</option><option value=/docs/v2.8.x>v2.8.x</option><option value=/docs/v2.7.x>v2.7.x</option><option value=/docs/v2.6.x>v2.6.x</option><option value=/docs/v2.5.x>v2.5.x</option><option value=/docs/v2.4.x>v2.4.x</option><option value=/docs/v2.3.x>v2.3.x</option><option value=/docs/v2.2.x>v2.2.x</option><option value=/docs/v2.1.x>v2.1.x</option><option value=/docs/v2.0.x>v2.0.x</option><option value=/docs/v1.14.x>v1.14.x</option><option value=/docs/v1.13.x>v1.13.x</option></select></div></div></div></li><div class=field><div class=control><div class=select><select onchange="if (this.value) window.location.href=this.value" style="border: none;"><option value=/docs/v4.15.x>Documentation</option><option value=/docs/v4.15.x/Guides>Guides</option><option value=/docs/v4.15.x/Guides/Benchmarking>Benchmarking</option><option value=/docs/v4.15.x/Guides/Contributing>Contributing</option><option value=/docs/v4.15.x/Guides/Database>Database</option><option value=/docs/v4.15.x/Guides/Delay-Accepting-Requests>Delay-Accepting-Requests</option><option value=/docs/v4.15.x/Guides/Detecting-When-Clients-Abort>Detecting-When-Clients-Abort</option><option value=/docs/v4.15.x/Guides/Ecosystem>Ecosystem</option><option value=/docs/v4.15.x/Guides/Fluent-Schema>Fluent-Schema</option><option value=/docs/v4.15.x/Guides/Getting-Started>Getting-Started</option><option value=/docs/v4.15.x/Guides/Migration-Guide-V3>Migration-Guide-V3</option><option value=/docs/v4.15.x/Guides/Migration-Guide-V4>Migration-Guide-V4</option><option value=/docs/v4.15.x/Guides/Plugins-Guide>Plugins-Guide</option><option value=/docs/v4.15.x/Guides/Prototype-Poisoning>Prototype-Poisoning</option><option value=/docs/v4.15.x/Guides/Recommendations>Recommendations</option><option value=/docs/v4.15.x/Guides/Serverless>Serverless</option><option value=/docs/v4.15.x/Guides/Style-Guide>Style-Guide</option><option value=/docs/v4.15.x/Guides/Testing>Testing</option><option value=/docs/v4.15.x/Guides/Write-Plugin>Write-Plugin</option><option value=/docs/v4.15.x/Guides/Write-Type-Provider>Write-Type-Provider</option><option value=/docs/v4.15.x/Reference>Reference</option><option value=/docs/v4.15.x/Reference/ContentTypeParser>ContentTypeParser</option><option value=/docs/v4.15.x/Reference/Decorators>Decorators</option><option value=/docs/v4.15.x/Reference/Encapsulation>Encapsulation</option><option value=/docs/v4.15.x/Reference/Errors>Errors</option><option value=/docs/v4.15.x/Reference/HTTP2>HTTP2</option><option value=/docs/v4.15.x/Reference/Hooks>Hooks</option><option value=/docs/v4.15.x/Reference/LTS>LTS</option><option value=/docs/v4.15.x/Reference/Lifecycle>Lifecycle</option><option value=/docs/v4.15.x/Reference/Logging>Logging</option><option value=/docs/v4.15.x/Reference/Middleware>Middleware</option><option value=/docs/v4.15.x/Reference/Plugins>Plugins</option><option value=/docs/v4.15.x/Reference/Reply>Reply</option><option selected value=/docs/v4.15.x/Reference/Request>Request</option><option value=/docs/v4.15.x/Reference/Routes>Routes</option><option value=/docs/v4.15.x/Reference/Server>Server</option><option value=/docs/v4.15.x/Reference/Type-Providers>Type-Providers</option><option value=/docs/v4.15.x/Reference/TypeScript>TypeScript</option><option value=/docs/v4.15.x/Reference/Validation-and-Serialization>Validation-and-Serialization</option></select></div></div></div></ul></nav><div id=doc-content class=content><h2 id=request>Request</h2><p>The first parameter of the handler function is <code>Request</code>.</p><p>Request is a core Fastify object containing the following fields:</p><ul><li><code>query</code> - the parsed querystring, its format is specified by <a href=.././Server#querystringparser><code>querystringParser</code></a></li><li><code>body</code> - the request payload, see <a href=.././ContentTypeParser>Content-Type Parser</a> for details on what request payloads Fastify natively parses and how to support other content types</li><li><code>params</code> - the params matching the URL</li><li><a href=#headers><code>headers</code></a> - the headers getter and setter</li><li><code>raw</code> - the incoming HTTP request from Node core</li><li><code>server</code> - The Fastify server instance, scoped to the current <a href=.././Encapsulation>encapsulation context</a></li><li><code>id</code> - the request ID</li><li><code>log</code> - the logger instance of the incoming request</li><li><code>ip</code> - the IP address of the incoming request</li><li><code>ips</code> - an array of the IP addresses, ordered from closest to furthest, in the <code>X-Forwarded-For</code> header of the incoming request (only when the <a href=.././Server#factory-trust-proxy><code>trustProxy</code></a> option is enabled)</li><li><code>hostname</code> - the host of the incoming request (derived from <code>X-Forwarded-Host</code> header when the <a href=.././Server#factory-trust-proxy><code>trustProxy</code></a> option is enabled). For HTTP/2 compatibility it returns <code>:authority</code> if no host header exists.</li><li><code>protocol</code> - the protocol of the incoming request (<code>https</code> or <code>http</code>)</li><li><code>method</code> - the method of the incoming request</li><li><code>url</code> - the URL of the incoming request</li><li><code>routerMethod</code> - the method defined for the router that is handling the request</li><li><code>routerPath</code> - the path pattern defined for the router that is handling the request</li><li><code>is404</code> - true if request is being handled by 404 handler, false if it is not</li><li><code>connection</code> - Deprecated, use <code>socket</code> instead. The underlying connection of the incoming request.</li><li><code>socket</code> - the underlying connection of the incoming request</li><li><code>context</code> - A Fastify internal object. You should not use it directly or modify it. It is useful to access one special key:<ul><li><code>context.config</code> - The route <a href=.././Routes#routes-config><code>config</code></a> object.</li></ul></li><li><code>routeSchema</code> - the scheme definition set for the router that is handling the request</li><li><code>routeConfig</code> - The route <a href=.././Routes#routes-config><code>config</code></a> object.</li><li><code>routeOptions</code> - The route <a href=.././Routes#routes-options><code>option</code></a> object<ul><li><code>bodyLimit</code> - either server limit or route limit</li><li><code>method</code> - the http method for the route</li><li><code>url</code> - the path of the URL to match this route</li><li><code>attachValidation</code> - attach <code>validationError</code> to request (if there is a schema defined)</li><li><code>logLevel</code> - log level defined for this route</li><li><code>version</code> - a semver compatible string that defines the version of the endpoint</li><li><code>exposeHeadRoute</code> - creates a sibling HEAD route for any GET routes</li><li><code>prefixTrailingSlash</code> - string used to determine how to handle passing / as a route with a prefix.</li></ul></li><li><a href=#getvalidationfunction>.getValidationFunction(schema | httpPart)</a> - Returns a validation function for the specified schema or http part, if any of either are set or cached.</li><li><a href=#compilevalidationschema>.compileValidationSchema(schema, [httpPart])</a> - Compiles the specified schema and returns a validation function using the default (or customized) <code>ValidationCompiler</code>. The optional <code>httpPart</code> is forwarded to the <code>ValidationCompiler</code> if provided, defaults to <code>null</code>.</li><li><a href=#validate>.validateInput(data, schema | httpPart, [httpPart])</a> - Validates the specified input by using the specified schema and returns the serialized payload. If the optional <code>httpPart</code> is provided, the function will use the serializer function given for that HTTP Status Code. Defaults to <code>null</code>.</li></ul><h3 id=headers>Headers</h3><p>The <code>request.headers</code> is a getter that returns an Object with the headers of the incoming request. You can set custom headers like this:</p><pre><code class=language-js>request.headers = {
  &#39;foo&#39;: &#39;bar&#39;,
  &#39;baz&#39;: &#39;qux&#39;
}
</code></pre><p>This operation will add to the request headers the new values that can be read calling <code>request.headers.bar</code>. Moreover, you can still access the standard request&#39;s headers with the <code>request.raw.headers</code> property.</p><blockquote><p>Note: For performance reason on <code>not found</code> route, you may see that we will add an extra property <code>Symbol(&#39;fastify.RequestAcceptVersion&#39;)</code> on the headers.</p></blockquote><pre><code class=language-js>fastify.post(&#39;/:params&#39;, options, function (request, reply) {
  console.log(request.body)
  console.log(request.query)
  console.log(request.params)
  console.log(request.headers)
  console.log(request.raw)
  console.log(request.server)
  console.log(request.id)
  console.log(request.ip)
  console.log(request.ips)
  console.log(request.hostname)
  console.log(request.protocol)
  console.log(request.url)
  console.log(request.routerMethod)
  console.log(request.routeOptions.bodyLimit)
  console.log(request.routeOptions.method)
  console.log(request.routeOptions.url)
  console.log(request.routeOptions.attachValidation)
  console.log(request.routeOptions.logLevel)
  console.log(request.routeOptions.version)
  console.log(request.routeOptions.exposeHeadRoute)
  console.log(request.routeOptions.prefixTrailingSlash)
  console.log(request.routerPath.logLevel)
  request.log.info(&#39;some info&#39;)
})
</code></pre><h3 id=getvalidationfunctionschema--httppart>.getValidationFunction(schema | httpPart)</h3><p><a id=getvalidationfunction></a></p><p>By calling this function using a provided <code>schema</code> or <code>httpPart</code>, it will return a <code>validation</code> function that can be used to validate diverse inputs. It returns <code>undefined</code> if no serialization function was found using either of the provided inputs.</p><p>This function has property errors. Errors encountered during the last validation are assigned to errors</p><pre><code class=language-js>const validate = request
                  .getValidationFunction({
                    type: &#39;object&#39;, 
                    properties: { 
                      foo: { 
                        type: &#39;string&#39; 
                      } 
                    } 
                  })
console.log(validate({ foo: &#39;bar&#39; })) // true
console.log(validate.errors) // null

// or

const validate = request
                  .getValidationFunction(&#39;body&#39;)
console.log(validate({ foo: 0.5 })) // false
console.log(validate.errors) // validation errors
</code></pre><p>See <a href=#compilevalidationschema>.compilaValidationSchema(schema, [httpStatus])</a> for more information on how to compile validation function.</p><h3 id=compilevalidationschemaschema-httppart>.compileValidationSchema(schema, [httpPart])</h3><p><a id=compilevalidationschema></a></p><p>This function will compile a validation schema and return a function that can be used to validate data. The function returned (a.k.a. <em>validation function</em>) is compiled by using the provided <a href=.././Server#schema-controller><code>SchemaControler#ValidationCompiler</code></a>. A <code>WeakMap</code> is used to cached this, reducing compilation calls.</p><p>The optional parameter <code>httpPart</code>, if provided, is forwarded directly the <code>ValidationCompiler</code>, so it can be used to compile the validation function if a custom <code>ValidationCompiler</code> is provided for the route.</p><p>This function has property errors. Errors encountered during the last validation are assigned to errors</p><pre><code class=language-js>const validate = request
                  .compileValidationSchema({
                    type: &#39;object&#39;, 
                    properties: { 
                      foo: { 
                        type: &#39;string&#39; 
                      } 
                    } 
                  })
console.log(validate({ foo: &#39;bar&#39; })) // true
console.log(validate.errors) // null

// or

const validate = request
                  .compileValidationSchema({
                    type: &#39;object&#39;, 
                    properties: { 
                      foo: { 
                        type: &#39;string&#39; 
                      } 
                    } 
                  }, 200)
console.log(validate({ hello: &#39;world&#39; })) // false
console.log(validate.errors) // validation errors
</code></pre><p>Note that you should be careful when using this function, as it will cache the compiled validation functions based on the schema provided. If the schemas provided are mutated or changed, the validation functions will not detect that the schema has been altered and for instance it will reuse the previously compiled validation function, as the cache is based on the reference of the schema (Object) previously provided.</p><p>If there is a need to change the properties of a schema, always opt to create a totally new schema (object), otherwise the implementation will not benefit from the cache mechanism.</p><p>Using the following schema as an example:</p><pre><code class=language-js>const schema1 = {
  type: &#39;object&#39;,
  properties: {
    foo: {
      type: &#39;string&#39;
    }
  }
}
</code></pre><p><em>Not</em></p><pre><code class=language-js>const validate = request.compileValidationSchema(schema1)

// Later on...
schema1.properties.foo.type. = &#39;integer&#39;
const newValidate = request.compileValidationSchema(schema1)

console.log(newValidate === validate) // true
</code></pre><p><em>Instead</em></p><pre><code class=language-js>const validate = request.compileValidationSchema(schema1)

// Later on...
const newSchema = Object.assign({}, schema1)
newSchema.properties.foo.type = &#39;integer&#39;

const newValidate = request.compileValidationSchema(newSchema)

console.log(newValidate === validate) // false
</code></pre><h3 id=validateinputdata-schema--httpstatus-httpstatus>.validateInput(data, [schema | httpStatus], [httpStatus])</h3><p><a id=validate></a></p><p>This function will validate the input based on the provided schema, or HTTP part passed. If both are provided, the <code>httpPart</code> parameter will take precedence.</p><p>If there is not a validation function for a given <code>schema</code>, a new validation function will be compiled, forwarding the <code>httpPart</code> if provided.</p><pre><code class=language-js>request
  .validateInput({ foo: &#39;bar&#39;}, {  
    type: &#39;object&#39;, 
    properties: { 
      foo: { 
        type: &#39;string&#39; 
      } 
    } 
  }) // true

// or

request
  .validateInput({ foo: &#39;bar&#39;}, {
    type: &#39;object&#39;, 
    properties: { 
      foo: { 
        type: &#39;string&#39; 
      } 
    } 
  }, &#39;body&#39;) // true

// or

request
  .validateInput({ hello: &#39;world&#39;}, &#39;query&#39;) // false
</code></pre><p>See <a href=#compileValidationSchema>.compileValidationSchema(schema, [httpStatus])</a> for more information on how to compile validation schemas.</p></div><hr><nav class=level></nav></div></div></div></section><script>// dynamically creates a submenu for the current section based on the content headers
  var titles = document.querySelectorAll('#doc-content h3, #doc-content h4')
  var currentMenu = document.getElementById('doc-menu-section')
  if (titles.length && currentMenu) {
    var submenu = document.createElement('ul')
    titles.forEach(el => {
      var currentSubmenuItem = document.createElement('li')
      var currentSubmenuLink = document.createElement('a')
      currentSubmenuLink.href = '#' + el.id
      currentSubmenuLink.title = el.textContent
      currentSubmenuLink.append(document.createTextNode(el.textContent))
      currentSubmenuItem.append(currentSubmenuLink)
      submenu.append(currentSubmenuItem)
    })
    currentMenu.append(submenu)
  }

  // dynamically creates header anchor links
  var headers = document.querySelectorAll('#doc-content h3, #doc-content h4')
  headers.forEach(el => {
    var currentAnchorLink = document.createElement('a')
    currentAnchorLink.className = 'anchor'
    currentAnchorLink.href = "#" + el.id
    currentAnchorLink.append(document.createTextNode('Â¶'))
    el.insertBefore(currentAnchorLink, el.firstChild);
  })</script><script>const contentLoaded = document.addEventListener('DOMContentLoaded', setTOCHeight)
  const resize = window.addEventListener('resize', setTOCHeight)

  function setTOCHeight() {
    const docHeight = window.innerHeight
    const tocSidebar = document.querySelector('#toc') || 0

    const tocHeight = docHeight - tocSidebar.getBoundingClientRect().top

    document.documentElement.style
      .setProperty('--TOC-height', `${tocHeight}px`)
  }

  window.addEventListener('beforeunload', () => {
    document.removeEventListener(contentLoaded)
    window.removeEventListener(resize)
  })</script></main><footer class="grey is-primary footer"><div class=container><div class="content has-text-centered"><p>Fastify, Copyright &copy; 2016-2023 <a href=https://openjsf.org/ target=_blank rel=noopener>OpenJS Foundation</a> and <a href=https://github.com/fastify/fastify#team target=_blank rel=noopener>The Fastify team</a>, Licensed under <a href=https://github.com/fastify/fastify/blob/master/LICENSE target=_blank rel=noopener>MIT</a></p><a href=https://www.netlify.com><img src=https://www.netlify.com/img/global/badges/netlify-color-accent.svg alt="Deploys by Netlify" loading=lazy decoding=async></a><p><small>Icons by simpleicons.org</small></p></div></div></footer><script src=/js/main.1e1d476db6c0b326.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js integrity="sha512-s+tOYYcC3Jybgr9mVsdAxsRYlGNq4mlAurOrfNuGMQ/SCofNPu92tjE7YRZCsdEtWL1yGkqk15fU/ark206YTg==" crossorigin=anonymous></script><script>hljs.highlightAll();</script><script src=https://cdn.jsdelivr.net/npm/@docsearch/js@alpha></script><script type=text/javascript>docsearch({
        appId: 'DMPMC33PLU',
        apiKey: '12d46b3bfeee6511031cfe00778f3e45',
        indexName: 'fastify',
        container: '#algolia-search-input',
        algoliaOptions: { 'facetFilters': ["version:latest", "tags:docs"] }
      });</script></body></html>